'use strict';window.tsfem_e_local={nonce:tsfem_e_localL10n.nonce,i18n:tsfem_e_localL10n.i18n,validateFormJson:function(a){let c,d,b=a.target.getAttribute('form');if(b){if(c=document.getElementById(b),!c)return!1;if(!tsfemForm.doValidityRoutine(c,tsfem_e_local.i18n.fixForm))return!1;d=a.target}else return!1;let e=jQuery(c).closest('.tsfem-pane-wrap').find('.tsfem-pane-header .tsfem-ajax'),f=0,g='';tsfemForm.disableButton(d),tsfem.resetAjaxLoader(e),tsfem.setAjaxLoader(e);let h=window,i='_tsfemMarkupTester',j=window.open('about:blank',i);return jQuery.ajax({method:'POST',url:ajaxurl,dataType:'json',data:{action:'tsfem_e_local_validateFormJson',nonce:tsfem_e_local.nonce,data:jQuery(c).serialize()},processData:!0,timeout:14000,async:!0}).done(function(k){k=tsfem.convertJSONResponse(k),tsfem.debug&&console.log(k);let l=k&&k.data||void 0,m=k&&k.type||void 0;if(!l||!m)g=tsfem.i18n.InvalidResponse;else{let n=l.results&&l.results.code||void 0,o=l.results&&l.results.success||void 0;if(!n)g=tsfem.i18n.UnknownError,j.close(),h.focus();else if(!o)tsfem.setTopNotice(n),j.close(),h.focus();else{let p=l.tdata||void 0;if(f=1,g=tsfem_e_local.i18n.testNewWindow,p){let q=jQuery('<form>',{action:'https://search.google.com/structured-data/testing-tool',method:'post',target:i});jQuery('<textarea>').attr('name','code').css('display','none').text(p).appendTo(q),q.appendTo('body').submit(),q.remove(),j.focus()}}}}).fail(function(k,l,m){j.close(),h.focus(),g=tsfem.getAjaxError(k,l,m),tsfem.setTopNotice(1072100),m&&tsfem.setTopNotice(-1,'jQ error: '+m)}).always(function(){tsfem.updatedResponse(e,f,g,0),tsfemForm.enableButton(d)}),!0},ready:function(a){a('button[name="tsfem-e-local-validateFormJson"]').click(tsfem_e_local.validateFormJson)}},jQuery(tsfem_e_local.ready);
